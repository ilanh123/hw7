<!DOCTYPE html>

<head>
    <title>Song list using JSON!</title>
    <script type="text/javascript" src="songs.json"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>
    <div id = "display"></div>
    <div id = "user-friendly"></div>
</body>
<script>
    str = "";
   $.get("https://ilanh123.github.io/hw7/songs.json",
        function () {
            str = JSON.stringify(data);
            strdisplay = str + "<br/>";
            strHTML= "<ul>";
            data.forEach(function() { 
                        //Part 3: User Friendly Display
                        strHTML += "<li>" + songs.Artist + ": " + songs.Title + "</li>" + "Genre: " + songs.Genre + "<br/>" + "Released: " + songs.Year + "<br/>" + "<br/>";
                    })
            strHTML += "</ul>";
            document.getElementById("display").innerHTML = strdisplay;
            document.getElementById("user-friendly").innerHTML = strHTML;
            });
        function filter() {
            //Part 4: Filter the Data
            var data = JSON.parse(str);
            
            var select = document.getElementById("genreForm");
            var selectedGen = select.value; 
            
            strHTML = "<br/>";
            
            data.forEach(function(songs) { 
                //Part 3: User Friendly Display
                for(let i = 0; i < songs.genre.length; i++) {
                    if(selectedGen == songs.genre[i]) {
                        strHTML += "<li>" + songs.title + ": " + songs.artist + "</li>" + "Genre: " + songs.genre + "<br/>" + "Released: " + songs.released + "<br/>" + "<br/>";
                    }
                }
            })
            strHTML += "</ul>";
            
            document.getElementById("user-friendly").innerHTML = strHTML;
        }
</script>
