
<!DOCTYPE html>
<html>
    <head>
        <title>Song list using JSON!</title>
    </head>
    
    <!-- INCLUDING JQUERY-->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
    
    <body>
        <div id = "display"></div>
        <div id = "display-friendly"></div>
        
        <script>
            //part 2: Serialize and Display
            var str = "";
            $.get("https://ilanh123.github.io/hw7/songs.json", 
                  function( data ) {
                    str = JSON.stringify(data);
                
                    //Part 2: Serialize and Display
                    strdisplay = str + "<br/> <br/>";
                
                    strHTML= "<ul>";
        
                    data.forEach(function(songs) { 
                        //Part 3: User Friendly Display
                        strHTML += "<li>" + songs.Title + ": " + songs.Artist + "</li>" + "Genre: " + songs.Genre + "<br/>" + "Released: " + songs.Year + "<br/>" + "<br/>";
                    })
                
                strHTML += "</ul>";
                
                document.getElementById("display").innerHTML = strdisplay;
                document.getElementById("display-friendly").innerHTML = strHTML;
            });
            
            function filter() {
                //Part 4: Filter the Data
                var data = JSON.parse(str);
                
                var select = document.getElementById("genreForm");
                var selectedGen = select.value; 
                
                strHTML = "<br/>";
                
                data.forEach(function(songs) { 
                    //Part 3: User Friendly Display
                    for(let i = 0; i < songs.Genre.length; i++) {
                        if(selectedGen == songs.Genre[i]) {
                            strHTML += "<li>" + songs.Artist + ": " + songs.Title + "</li>" + "Genre: " + songs.Genre + "<br/>" + "Released: " + songs.Year + "<br/>" + "<br/>";
                        }
                    }
                })
                strHTML += "</ul>";
                
                document.getElementById("display-friendly").innerHTML = strHTML;
            }
            
        </script>
        
        <label for="genreForm">Select a Genre:</label>
        <select id = "genreForm">
            <option value = "Dance Pop">Dance Pop</option>
            <option value = "Alternative">Alternative</option>
            <option value = "Pop">Pop</option>
            <option value = "R and B Soul">R and B Soul</option>
            <option value = "Psychedlic Pop">Psychedlic Pop</option>
            <option value = "Industrial Pop">Industrial Pop</option>
            <option value = "Electropop">Electropop</option>
            <option value = "Hip-Hop">Hip-Hop</option>
            <option value = "Reggae">Reggae</option>
            <option value = "Metal">Metal</option>
        </select>
        
        <button onclick="filter()">Go</button>
    </body>
</html>
